{"meta":{"title":"VictorVçš„å°åšå®¢","subtitle":"","description":"è®°å½•ä¸€äº›æ‡’å¾—æ‰¾çš„ä¸œè¥¿, å’Œä¸€äº›æƒ³å†™çš„ä¸œè¥¿","author":"VictorV","url":"http://474172261.github.io","root":"/"},"pages":[],"posts":[{"title":"è¯´æˆ‘ä¹‹å‰çš„leader å”é’æ˜Š, ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡è§è¯†åˆ°çš„è¿™æ ·å‘é„™çš„äºº","slug":"fuck_tqh","date":"2020-03-29T07:15:15.805Z","updated":"2020-03-29T10:19:26.380Z","comments":true,"path":"2020/03/29/fuck_tqh/","link":"","permalink":"http://474172261.github.io/2020/03/29/fuck_tqh/","excerpt":"ä¸€ç›´æ‡’å¾—åæ§½å”é’æ˜ŠğŸ–•ï¼Œæ¯•ç«Ÿé‡åˆ°ç³Ÿç³•çš„leaderå¤§ä¸äº†èµ°äººï¼Œä½†æ˜¯æœ‰äº›ä¸œè¥¿ä¼šéšç€æ—¶é—´å¿˜è®°ï¼Œå¯¼è‡´åæ¥çš„äººç»§ç»­æ‰å‘é‡Œã€‚æ‰€ä»¥è¿˜æ˜¯å‘ä¸ªæ–‡ï¼Œæ›å…‰ä¸€ä¸‹è¿™ä¸ªäººï¼Œè®©å¤§å®¶è®¤æ¸…è¿™ä¸ªäººï¼Œä¸è¦è¢«ä»–ç®€å†ä¸Šçš„â€æˆå°±â€è’™è”½äº†åŒçœ¼ã€‚","text":"ä¸€ç›´æ‡’å¾—åæ§½å”é’æ˜ŠğŸ–•ï¼Œæ¯•ç«Ÿé‡åˆ°ç³Ÿç³•çš„leaderå¤§ä¸äº†èµ°äººï¼Œä½†æ˜¯æœ‰äº›ä¸œè¥¿ä¼šéšç€æ—¶é—´å¿˜è®°ï¼Œå¯¼è‡´åæ¥çš„äººç»§ç»­æ‰å‘é‡Œã€‚æ‰€ä»¥è¿˜æ˜¯å‘ä¸ªæ–‡ï¼Œæ›å…‰ä¸€ä¸‹è¿™ä¸ªäººï¼Œè®©å¤§å®¶è®¤æ¸…è¿™ä¸ªäººï¼Œä¸è¦è¢«ä»–ç®€å†ä¸Šçš„â€æˆå°±â€è’™è”½äº†åŒçœ¼ã€‚ æœ¬æ¥è¿™ä¸ªå¸–å­æ˜¯å‘åˆ°çœ‹é›ªçš„, ä¸€å¼€å§‹è¿˜æ­£å¸¸, åæ¥ç‰ˆä¸»æŠŠå¸–å­ç§»åˆ°æ¯”è¾ƒç§å¯†çš„ä¼šå‘˜åŒºäº†, èƒŒç¦»äº†æˆ‘è®©å¤§å®¶é¿å‘çš„åˆè¡·, æ²¡åŠæ³•, é‡æ–°æŠŠblogæ•´èµ·æ¥, å¸®åŠ©å¤§å®¶çœ‹æ¸…æ¥šè¿™ä¸ªäººã€‚ ä¸€æœä»–ï¼Œç½‘ä¸Šä¹Ÿæ˜¯æœ‰ä¸å°‘çš„èµ„æ–™ï¼Œæˆ‘è¿™ä¸ªæ•…äº‹å‘¢ï¼Œä»ä»–å¸¦é¢† 360 çš„marvelå›¢é˜Ÿé‚£å¹´å¼€å§‹(ä»–å·²ç»ä¸åœ¨360äº†)ã€‚ä¸€éƒ¨åˆ†å†…å®¹æ˜¯å¬è¯´çš„ï¼Œä½†æ˜¯ä¹ŸåŸºæœ¬ä¸Šæ²¡å‡çš„ã€‚ï¼ˆè¯¥å›¢é˜Ÿåœ¨æ ¸å¿ƒå¤§ç‰›èµ°å¾—å·®ä¸å¤šåå°±è§£æ•£äº†ï¼Œä»–è·³æ§½ç¦»å¼€çš„æ—¶å€™è¿˜æ²¡æœ‰è§£æ•£ï¼Œåªå‰©ä¸‹å¼€å‘å›¢é˜Ÿçš„äººï¼Œåæ¥æ‰ç®—çœŸè§£æ•£äº†ï¼‰ é¦–å…ˆï¼Œç¬¬ä¸€ä¸ªè¦è¯´çš„å°±æ˜¯æœ‰ä»–åå­—çš„cveå·qemuçš„å¤šä¸ªcveå·é‡Œï¼Œè™½ç„¶æœ‰ä»–åå­—ï¼Œä½†æ˜¯éƒ½å’Œä»–æ— å…³ï¼Œéƒ½æ˜¯å›¢é˜Ÿé‡Œçš„å…¶å®ƒæˆå‘˜å‘ç°çš„ã€‚åªä¸è¿‡ä»–ä»—ç€è‡ªå·±æ˜¯leaderï¼Œ ç”¨è‡ªå·±çš„åä¹‰å»æäº¤ç»™å®˜æ–¹ï¼Œæ‰€ä»¥cveçš„å…¬å¼€ä¿¡æ¯é‡Œåªæœ‰ä»–çš„åå­—ï¼ŒçœŸçš„å‘ç°è€…çš„åå­—å´æ²¡æœ‰ã€‚å½“ç„¶å°±ç®—æœ‰æ€¨æ°”ï¼Œäººåœ¨å±‹æªä¸‹ï¼Œå…¶ä»–äººä¹Ÿæ²¡åŠæ³•ã€‚ ç¬¬äºŒä¸ªå°±æ˜¯å…³äºä»–çš„é‚£äº›è™šæ‹ŸåŒ–é€ƒé€¸çš„æŠ€æœ¯æ¼”è®²æ— è®ºæ˜¯è®²qemuçš„é€ƒé€¸[1]ï¼Œè¿˜æ˜¯vmware workstationçš„é€ƒé€¸[2]ï¼ŒæŠ€æœ¯ä¸Šéƒ½å’Œä»–æ²¡æœ‰ä¸€ç‚¹å…³ç³»ã€‚å¼ºè¡Œåˆ©ç”¨è‡ªå·±leaderèº«ä»½å‡‘ä¸€èµ·å‡ºå»æ¼”è®²ï¼Œå¯¹å¤–å¡‘é€ ä¸€å‰¯è‡ªå·±æ˜¯å‘ç°è€…çš„å½¢è±¡ï¼Œç€å®å‘åŠ£ã€‚å¦å¤–ä»–è¦æ±‚æŠ€æœ¯å¤§ç‰›ç»™ä»–è®²workstationé€ƒé€¸çš„åˆ©ç”¨ç»†èŠ‚ï¼Œæœ¬æ¥æ˜¯åˆ«äººå‘ç°çš„åˆ©ç”¨æŠ€æœ¯ï¼Œä»–å°±æƒ³å ä½å·±æœ‰ï¼ŒæŠŠè¦æ¥çš„å¤§ç‰›çš„åˆ©ç”¨expè‡ªå·±æ”¹ä¸ªæ ¼å¼ï¼Œå†™ä¸ªæ³¨é‡Šï¼Œå¯¹å¤–å½“ä½œæ˜¯è‡ªå·±å†™å‡ºæ¥çš„æ ·å­ã€‚ ç¬¬ä¸‰ä¸ªå°±æ˜¯å‡ºä¹¦äº†ä»–çš„é‚£æœ¬ã€Šäº‘è™šæ‹ŸåŒ–å®‰å…¨æ”»é˜²å®è·µã€‹ä¹¦ï¼Œæœ¬æ¥æ˜¯å›¢é˜Ÿå‡‘ä¸€èµ·å†™äº†å‡ºä¹¦ï¼Œæ”¶ç›Šå¤§å®¶å‡åˆ†ï¼Œè¿™ä¸ªå½“æ—¶éƒ½æœ‰ä¸€ä¸ªä¸´æ—¶åè®®çº¸æ¡ï¼Œ å¤§å®¶éƒ½æœ‰ç­¾åã€‚åæ¥å› ä¸ºæ ¸å¿ƒæŠ€æœ¯ç ”ç©¶å‘˜éƒ½è¢«é€¼èµ°äº†ï¼Œä»–å°±è¯´è¦ä¸å¤§å®¶æŠŠä¹¦å‡ºå®Œå§ã€‚æœ¬æ¥æœ‰å§‹æœ‰ç»ˆå¯¹å¤§å®¶éƒ½å¥½ï¼Œä½†æ˜¯ä»–è€å¿ƒçœ¼ï¼Œä¸è‚¯æŠŠæ•´ä¹¦æ‹¿å‡ºæ¥è®©å¤§å®¶çœ‹ï¼Œè¿˜ç§ä¸‹æ‰¾ä¸€äº›å‚ä¸è€…è¯´ä¸€èµ·å‡ºä¹¦ï¼ŒæŠŠå…¶ä»–äººå¿½ç•¥æ‰ï¼Œæœ€åå¯èƒ½æœ‰äººä¸åŒæ„æ‰€ä»¥è¢«è¿«å¬å–ä¸€ä¸‹å¤§å®¶æ„è§ã€‚é‰´äºä»–çš„æ— è€»ï¼Œæˆ‘ä¹Ÿå°±æ²¡åŒæ„æŠŠæˆ‘å†™çš„é‚£éƒ¨åˆ†å‘å¸ƒåœ¨ä¹¦é‡Œï¼Œå½“ç„¶å…¶å®ƒå‡ ä¸ªæˆå‘˜ä¹Ÿæ²¡åŒæ„ã€‚ ä½†æ˜¯æœ€åä»–è¿˜æ˜¯æ— è€»åœ°æŠŠä¹¦ç»™å‡ºäº†ï¼Œè¿˜æŠŠæˆ‘å’Œå…¶å®ƒå‡ ä¸ªæŠ€æœ¯æˆå‘˜çš„å†…å®¹æ”¹å¾—é¢ç›®å…¨éã€‚å¯¹æ¯”ä»–çš„ä¹¦å’Œæˆ‘å‘å¸ƒçš„å¸–å­â€œQEMU ä¸ KVM è™šæ‹ŸåŒ–å®‰å…¨ç ”ç©¶ä»‹ç»â€ä»¥åŠçœ‹é›ªå…³äºhyper-vçš„å¸–å­Hyper-Vå®‰å…¨ä»0åˆ°1(1)ï¼Œå°±çŸ¥é“ä»–ç›—ç”¨äº†å¤šå°‘ï¼Œæ”¹å¾—å¤šçƒ‚ã€‚å¦å¤–, çœŸæ­£ç”±ä»–å†™çš„å†…å®¹ä¹Ÿå°±ç¬¬ä¸€ç« , ç”±äºç‰ˆæƒåŸå› , ä»–å°±æ›´æ¢äº†ä¸€äº›å†…å®¹, æŠŠå…¶å®ƒäººç»™ä»–çš„åˆ†ææŠ¥å‘Š, ä¿®ä¿®æ”¹æ”¹å†™è¿›ä¹¦é‡Œäº†ã€‚ ç¬¬å››ä¸ªä»–å·å·æŠ¥å¤§ç‰›çš„æ´åœ¨å›¢é˜ŸæŠ€æœ¯å¤§ç‰›å·²ç»èµ°äº†çš„æƒ…å†µä¸‹ï¼Œä»–å·å·æŠŠå¤§ç‰›æ²¡æœ‰ä¸ŠæŠ¥çš„bugæŠ¥äº†é¢†å–å¥–åŠ±ï¼Œè¿™äº‹ä¸æ˜¯ä¸€èˆ¬çš„ä¸‹æµã€‚è€Œä¸”å¹²äº†ä¸æ­¢ä¸€æ¬¡ã€‚ æœ€åå‘¢è¿™äº›éƒ½æ˜¯æ—§äº‹äº†ï¼Œä½†æ˜¯èŒæ–°å¯èƒ½ä¸çŸ¥é“ï¼Œä¸€äº›æƒ³é‚€è¯·ä»–çš„äººä¹Ÿä¸çŸ¥é“ï¼Œå†™ä¸ªå¸–å­ï¼Œç•™ä½œè®°å½•ï¼Œç»™å¤§å®¶é¿å‘ã€‚ å…¶å®ƒå…³äºä»–ä¸ºäººå¤„äº‹çš„æ•…äº‹æˆ‘ä¸å¿…å¤šè¯´ï¼ŒåŠé—´éƒ½æœ‰â€ä½³è¯â€ï¼Œè‡³äºäº‹å®è¯æ˜ï¼Œå¯ä»¥é—®å½“äº‹äººï¼Œæƒ³å¿…ä½ è‚¯å®šå¯ä»¥å¬åˆ°æ›´æœ‰æ„æ€çš„æ•…äº‹(â›á´—â›) è¿˜æœ‰ä»¶äº‹å°±æ˜¯ï¼Œä»»ä½•æ—¶å€™ï¼Œéƒ½ä¸è¦æŠŠè‡ªå·±çš„åŠå…¬ç”µè„‘å¯†ç ç»™åˆ«äººï¼Œé™¤éä½ å¾ˆä¿¡å¾—è¿‡é‚£ä¸ªäººï¼ï¼ï¼ æˆ‘å½“æ—¶å› ä¸ºä¸æƒ³è·Ÿç€è¿™æ··è›‹ï¼Œåˆå› ä¸ºä¸€äº›å…¶å®ƒåŸå› ï¼Œå°±æ²¡æœ‰æ¢å›¢é˜Ÿï¼Œè€Œæ˜¯æ‰“ç®—ç¦»å¼€360ã€‚17å¹´7æœˆçš„æ—¶å€™æ¯•ä¸šäº†ï¼Œå‡†å¤‡å›å»åŠç¦»èŒï¼Œå¿˜äº†å› ä¸ºä»€ä¹ˆäº‹æƒ…ï¼ˆå¥½åƒæ˜¯æˆ‘éœ€è¦è¿œç¨‹ç™»å½•å§ï¼‰ï¼Œå°±è®©ä»–å¸®æˆ‘ç™»å½•äº†ä¸‹æˆ‘çš„åŠå…¬ç”µè„‘ã€‚åæ¥æˆ‘æ€•ä»–ä¹±åŠ¨æˆ‘çš„æ–‡ä»¶ï¼Œå°±ç»™ä¸€äº›æ–‡ä»¶åŠ å¯†äº†ï¼Œå› ä¸ºè¿œç¨‹vpnè¿æ¥ä¸æ–¹ä¾¿ç›´æ¥æ”¹å¯†ç ï¼Œæ‰€ä»¥æ²¡æ”¹ã€‚åæ¥å‡†å¤‡åŠç¦»èŒï¼Œéœ€è¦ç™»å½•ï¼Œç»“æœæˆ‘çš„å¯†ç è¢«ä»–æ”¹äº†ï¼Œä»–è¿˜ä¸è‚¯å‘Šè¯‰æˆ‘ï¼Œè¯´æ€•æˆ‘æ³„éœ²å…¬å¸æœºå¯†ã€‚excuse meï¼Ÿï¼Ÿæˆ‘è‡ªå·±çš„åŠå…¬ç”µè„‘ï¼Œæœ‰å•¥æˆ‘è‡ªå·±ä¸èƒ½çœ‹çš„ï¼Ÿæˆ‘éƒ½è¿˜æ²¡æœ‰åŠç¦»èŒï¼Œçœ‹è‡ªå·±ç”µè„‘æ€ä¹ˆäº†ï¼Ÿ å…¶å®å°±æ˜¯ä»–æƒ³å·çœ‹æˆ‘çš„æ–‡ä»¶ï¼Œç»“æœå‘ç°æˆ‘åŠ å¯†äº†æ–‡ä»¶ï¼Œæ‰€ä»¥ä»–å°±æŠŠæˆ‘å¯†ç æ”¹äº†ï¼ˆè¿™ä¸ªä¸æ˜¯çŒœçš„ï¼Œä»–è¯´çš„ï¼‰ã€‚æå¾—æˆ‘æ²¡åŠæ³•æ­£å¸¸ç¦»èŒï¼Œåæ¥ä¸äº†äº†ä¹‹ï¼ˆå› ä¸ºæ˜¯å®ä¹ ï¼Œå®ä¹ åè®®ä¹Ÿåˆ°æœŸäº†ï¼Œæˆ‘ä¹Ÿç»™äº†æˆ‘è¯¥ç»™çš„äº¤æ¥æ–‡ä»¶ï¼‰ã€‚ è¿™ä»¶äº‹æˆ‘åªèƒ½è¯´æ˜¯æˆ‘è‡ªå·±å¤ªå•çº¯ï¼Œå†™å‡ºæ¥ä¹Ÿæ˜¯ç»™èŒæ–°æä¸ªé†’ï¼Œä¸è¦è½»æ˜“ä¿¡ä»»åˆ«äººè€Œç»™å‡ºä½ çš„å¯†ç ã€‚ ç›¸å…³æŠ€æœ¯æ¼”è®²[1] Wei Xiao, Qinghao Tang, â€œqemu+kvm &amp; xen pwn: virtual machine escape from â€˜Dark Portalâ€™â€ [2] CSW2017 Qinghao tang+Xinlei ying vmware_escape_final æ–¹ä¾¿å¤§å®¶åƒç“œ, ç»™ä¸ªå¯¹æ¯”å›¾ è´´ä¸‹ä¹‹å‰çš„è¯„è®º","categories":[],"tags":[]},{"title":"linux å†…æ ¸å’Œç”¨æˆ·æ€é€šä¿¡ä¹‹ /procæ–‡ä»¶ç³»ç»Ÿ","slug":"linux-proc","date":"2020-03-29T07:00:54.368Z","updated":"2020-03-29T10:19:39.093Z","comments":true,"path":"2020/03/29/linux-proc/","link":"","permalink":"http://474172261.github.io/2020/03/29/linux-proc/","excerpt":"/proc æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œé€šè¿‡å®ƒå¯ä»¥ä½¿ç”¨ä¸€ç§æ–°çš„æ–¹æ³•åœ¨ LinuxÂ® å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚åœ¨ /proc æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è™šæ‹Ÿæ–‡ä»¶çš„è¯»å†™ä½œä¸ºä¸å†…æ ¸ä¸­å®ä½“è¿›è¡Œé€šä¿¡çš„ä¸€ç§æ‰‹æ®µï¼Œä½†æ˜¯ä¸æ™®é€šæ–‡ä»¶ä¸åŒçš„æ˜¯ï¼Œè¿™äº›è™šæ‹Ÿæ–‡ä»¶çš„å†…å®¹éƒ½æ˜¯åŠ¨æ€åˆ›å»ºçš„.","text":"/proc æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œé€šè¿‡å®ƒå¯ä»¥ä½¿ç”¨ä¸€ç§æ–°çš„æ–¹æ³•åœ¨ LinuxÂ® å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚åœ¨ /proc æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å¯¹è™šæ‹Ÿæ–‡ä»¶çš„è¯»å†™ä½œä¸ºä¸å†…æ ¸ä¸­å®ä½“è¿›è¡Œé€šä¿¡çš„ä¸€ç§æ‰‹æ®µï¼Œä½†æ˜¯ä¸æ™®é€šæ–‡ä»¶ä¸åŒçš„æ˜¯ï¼Œè¿™äº›è™šæ‹Ÿæ–‡ä»¶çš„å†…å®¹éƒ½æ˜¯åŠ¨æ€åˆ›å»ºçš„. /proc æ–‡ä»¶ç³»ç»ŸåŒ…å«äº†ä¸€äº›ç›®å½•ï¼ˆç”¨ä½œç»„ç»‡ä¿¡æ¯çš„æ–¹å¼ï¼‰å’Œè™šæ‹Ÿæ–‡ä»¶ã€‚è™šæ‹Ÿæ–‡ä»¶å¯ä»¥å‘ç”¨æˆ·å‘ˆç°å†…æ ¸ä¸­çš„ä¸€äº›ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œä¸€ç§ä»ç”¨æˆ·ç©ºé—´å‘å†…æ ¸å‘é€ä¿¡æ¯çš„æ‰‹æ®µã€‚ åˆ›å»ºä¸€ä¸ª/procæ–‡ä»¶åœ¨3.8å†…æ ¸ä¹‹å‰,ä½¿ç”¨create_proc_entryåˆ›å»ºä¸€ä¸ªæ–‡ä»¶,åŸå‹å¦‚ä¸‹: 1234567891011121314151617181920struct proc_dir_entry *create_proc_entry( const char *name, mode_t mode, struct proc_dir_entry *parent );//åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶struct proc_dir_entry &#123; const char *name; // èŠ‚ç‚¹åç§° mode_t mode; // æƒé™,ä¸chmodçš„ä¸€æ ·,å¯ä»¥ä½¿ç”¨å…«è¿›åˆ¶è¡¨ç¤º uid_t uid; // File's user id gid_t gid; // File's group id struct inode_operations *proc_iops; // ç´¢å¼•èŠ‚ç‚¹æ“ä½œå‡½æ•° struct file_operations *proc_fops; // æ–‡ä»¶æ“ä½œå‡½æ•° struct proc_dir_entry *parent; // çˆ¶ç›®å½•,å¦‚æœæ˜¯NULL,å°±ä»£è¡¨/procç›®å½• ... read_proc_t *read_proc; // è¾“å‡ºç»™catçš„å‡½æ•° write_proc_t *write_proc; // è¯»å–ç”¨æˆ·è¾“å…¥çš„å‡½æ•° void *data; // æŒ‡å‘private æ•°æ® atomic_t count; // ä½¿ç”¨è®¡æ•° ...&#125;;void remove_proc_entry( const char *name, struct proc_dir_entry *parent );//ä¸ä»…å¯ä»¥åˆ é™¤èŠ‚ç‚¹,è¿˜èƒ½åˆ é™¤proc_mkdiråˆ›å»ºçš„ç›®å½•struct proc_dir_entry *proc_mkdir(const char *name, struct proc_dir_entry *parent); //åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç›®å½• parent å‚æ•°å¯ä»¥ä¸º NULLï¼ˆè¡¨ç¤º /proc æ ¹ç›®å½•ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯å¾ˆå¤šå…¶ä»–å€¼ proc_dir_entry åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä½ç½® proc_root_fs /proc proc_net /proc/net proc_bus /proc/bus proc_root_driver /proc/driver å¦‚æœæˆ‘ä»¬æƒ³åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ä¸ºtest_modulçš„è™šæ‹Ÿæ–‡ä»¶,å°±è¿™æ ·åˆå§‹åŒ– 1234create_proc_entry( \"test_module\", 0644, NULL );æˆ–è€…pt_root = proc_mkdir(\"test_menu\", NULL);pt_entry1 = create_proc_entry(USER_ENTRY1, 0666, pt_root); /procæ–‡ä»¶äº¤äº’å‡½æ•°read_proc ä¾›ç”¨æˆ·è¯»å–çš„å‡½æ•° 1234567int mod_read( char *page,//æ•°æ®å†™å…¥çš„ä½ç½®,è¯¥pageç¼“å†²åŒºåœ¨å†…æ ¸ char **start, off_t off, int count,//å®šä¹‰å†™å…¥çš„æœ€å¤§å­—èŠ‚æ•° int *eof, //å½“æ•°æ®å†™å…¥å®Œå,éœ€è¦è®¾ç½®ä¸º1 void *data //private æ•°æ® ); å½“éœ€è¦å†™å…¥å¤šé¡µæ•°æ®æ—¶(ä¸€èˆ¬ä¸€é¡µ4Kb),éœ€è¦ç”¨åˆ° start,off. write_proc è¯»å–ç”¨æˆ·çš„è¾“å…¥ 12345int mod_write( struct file *filp, //æŒ‡å‘ä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶ç»“æ„ const char __user *buff, //ç”¨æˆ·è¾“å…¥çš„æ•°æ®,buffåœ¨ç”¨æˆ·ç©ºé—´,å†…æ ¸è¦è¯»å–éœ€è¦ç”¨åˆ°copy_from_user unsigned long len, //é•¿åº¦ void *data ); å…¶å®ƒéœ€è¦ç”¨åˆ°çš„å‡½æ•° 1234567891011121314151617181920212223242526/* åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ */struct proc_dir_entry *proc_symlink( const char *name, struct proc_dir_entry *parent, const char *dest );/* Create a proc_dir_entry with a read_proc_t in one call */struct proc_dir_entry *create_proc_read_entry( const char *name, mode_t mode, struct proc_dir_entry *base, read_proc_t *read_proc, void *data );/* ä»å†…æ ¸ç©ºé—´å¤åˆ¶æ•°æ®åˆ°ç”¨æˆ·ç©ºé—´ */unsigned long copy_to_user( void __user *to, const void *from, unsigned long n );/* ä»ç”¨æˆ·ç©ºé—´åˆ°å†…æ ¸ */unsigned long copy_from_user( void *to, const void __user *from, unsigned long n );/* åˆ›å»ºè™šæ‹Ÿçš„è¿ç»­å†…å­˜å— */void *vmalloc( unsigned long size );/* é‡Šæ”¾vmallocåˆ›å»ºçš„å— */void vfree( void *addr );/* Export a symbol to the kernel (make it visible to the kernel) */EXPORT_SYMBOL( symbol );/* Export all symbols in a file to the kernel (declare before module.h) */EXPORT_SYMTAB åˆ›å»ºå†…æ ¸é©±åŠ¨123456789101112131415161718#include &lt;linux/module.h&gt;/* Defines the license for this LKM */MODULE_LICENSE(\"GPL\");int my_module_init( void )//è‡ªå®šä¹‰çš„åˆå§‹åŒ–å‡½æ•°&#123; printk(KERN_INFO \"my_module_init called. Module is now loaded.\\n\"); return 0;&#125;void my_module_cleanup( void )//è‡ªå®šä¹‰çš„é€€å‡ºå‡½æ•°&#123; printk(KERN_INFO \"my_module_cleanup called. Module is now unloaded.\\n\"); return;&#125;module_init( my_module_init );//å£°æ˜åˆå§‹åŒ–å‡½æ•°module_exit( my_module_cleanup );//å£°æ˜é€€å‡ºå‡½æ•° ä»3.10å†…æ ¸å¼€å§‹,create_proc_entry() å‡½æ•°è¢«æ›¿æ¢æˆproc_create() å‡½æ•°å‡½æ•°åŒºåˆ«å¦‚ä¸‹: 123456proc_file = create_proc_entry(\"file\",0600,NULL);if (proc_file) &#123; proc_file-&gt;read_proc = file_read; proc_file-&gt;write_proc = file_write; proc_file-&gt;owner = THIS_MODULE;&#125; ç¼–è¯‘å®‰è£…é©±åŠ¨Makefile 1234567obj-m +&#x3D; simple-km.oall: make -C &#x2F;lib&#x2F;modules&#x2F;&#96;uname -r&#96;&#x2F;build SUBDIRS&#x3D;$(PWD) modulesclean: make -C &#x2F;lib&#x2F;modules&#x2F;&#96;uname -r&#96;&#x2F;build SUBDIRS&#x3D;$(PWD) modules å¼€å¤´çš„æ˜¯tab, ä¸æ˜¯ç©ºæ ¼, ä¸€å®šè¦æ³¨æ„ æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ 12345$ make$ insmod simple-km.ko $ dmesg | tail -5 æŸ¥çœ‹æœ€å5è¡Œä¿¡æ¯$ lsmod$ rmmod simple-km.ko ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778#include &lt;linux/module.h&gt;#include &lt;linux/kernel.h&gt;#include &lt;linux/proc_fs.h&gt;#include &lt;linux/string.h&gt;#include &lt;linux/vmalloc.h&gt;#include &lt;asm/uaccess.h&gt;MODULE_LICENSE(\"GPL\");MODULE_DESCRIPTION(\"Fortune Cookie Kernel Module\");MODULE_AUTHOR(\"VictorV\");#define MAX_COOKIE_LENGTH PAGE_SIZEstatic struct proc_dir_entry *proc_entry;static char *cookie_pot; // å†…å­˜ç¼“å†²åŒºstatic int cookie_index; // æŒ‡å‘ç¼“å†²åŒºçš„æ•°æ®å°¾éƒ¨static int next_fortune; // é€šè¿‡\\0åˆ†å¼€å­—ç¬¦ä¸²,æ­¤å¤„ç”¨æ¥æŒ‡å‘ä¸‹ä¸€ä¸ªéœ€è¦è¾“å‡ºçš„ç¼“å†²å­—ç¬¦ä¸²ssize_t fortune_write( struct file *filp, const char __user *buff, unsigned long len, void *data )&#123; int space_available = (MAX_COOKIE_LENGTH-cookie_index)+1; if (len &gt; space_available) &#123; printk(KERN_INFO \"fortune: cookie pot is full!\\n\"); return -ENOSPC; &#125; if (copy_from_user( &amp;cookie_pot[cookie_index], buff, len )) &#123; //ä»ç”¨æˆ·ç©ºé—´è¯»å–æ•°æ®åˆ°cookie_pot, return -EFAULT; &#125; cookie_index += len; cookie_pot[cookie_index-1] = 0;//å°†æœ€åä¸€ä½ç½®é›¶ return len;&#125;int fortune_read( char *page, char **start, off_t off,int count, int *eof, void *data )&#123; int len; if (off &gt; 0) &#123; *eof = 1; return 0; &#125; if (next_fortune &gt;= cookie_index) next_fortune = 0;//è¶…è¿‡æ•°æ®ä¸ªæ•°,å°±å¾ªç¯è¯»å– len = sprintf(page, \"%s\\n\", &amp;cookie_pot[next_fortune]);//å°†ä¸€æ®µå­—ç¬¦ä¸²å†™å…¥page next_fortune += len; return len;&#125;int init_fortune_module( void )//åˆå§‹åŒ–&#123; int ret = 0; cookie_pot = (char *)vmalloc( MAX_COOKIE_LENGTH );//ç”³è¯·ä¸€æ®µå†…æ ¸ç©ºé—´ if (!cookie_pot) &#123; ret = -ENOMEM; &#125; else &#123; memset( cookie_pot, 0, MAX_COOKIE_LENGTH ); proc_entry = create_proc_entry( \"fortune\", 0644, NULL ); if (proc_entry == NULL) &#123; ret = -ENOMEM; vfree(cookie_pot); printk(KERN_INFO \"fortune: Couldn't create proc entry\\n\"); &#125; else &#123; cookie_index = 0; next_fortune = 0; proc_entry-&gt;read_proc = fortune_read;//è¿™é‡Œå®šä¹‰è¾“å‡ºå‡½æ•° proc_entry-&gt;write_proc = fortune_write;//å®šä¹‰è¾“å…¥å‡½æ•° proc_entry-&gt;owner = THIS_MODULE; printk(KERN_INFO \"fortune: Module loaded.\\n\"); &#125; &#125; return ret;&#125;void cleanup_fortune_module( void )&#123; remove_proc_entry(\"fortune\", &amp;proc_root); vfree(cookie_pot); printk(KERN_INFO \"fortune: Module unloaded.\\n\");&#125;module_init( init_fortune_module );module_exit( cleanup_fortune_module ); æ•ˆæœ: 123456789101112[root@plato]# insmod fortune.ko[root@plato]# echo \"Success is an individual proposition. Thomas Watson\" &gt; /proc/fortune[root@plato]# echo \"If a man does his best, what else is there? Gen. Patton\" &gt; /proc/fortune[root@plato]# echo \"Cats: All your base are belong to us. Zero Wing\" &gt; /proc/fortune[root@plato]# cat /proc/fortuneSuccess is an individual proposition. Thomas Watson[root@plato]# cat /proc/fortuneIf a man does his best, what else is there? General Patton[root@plato]#","categories":[],"tags":[]},{"title":"windows å†…æ ¸è°ƒè¯•é…ç½®","slug":"windows-debug-setting","date":"2020-03-29T06:43:22.521Z","updated":"2020-03-29T10:16:20.967Z","comments":true,"path":"2020/03/29/windows-debug-setting/","link":"","permalink":"http://474172261.github.io/2020/03/29/windows-debug-setting/","excerpt":"","text":"æ·»åŠ ä¸²å£åˆ°è™šæ‹Ÿæœºå®‰è£…å¥½è™šæ‹Ÿæœºå, æ·»åŠ ä¸²å£è®¾é…, é…ç½®å¦‚ä¸‹ é…ç½®è™šæ‹Ÿæœºwindowsç³»ç»Ÿ(ç®€ç§°Guest)æŒ‰ç»„åˆé”®win+r, è¾“å…¥ msconfig.åšå¦‚ä¸‹é…ç½®é‡å¯è™šæ‹Ÿæœº é…ç½®å¤–éƒ¨ä¸»æœº(æ£€æŸ¥Host)æ‰¾åˆ°windbgçš„å¿«æ·æ–¹å¼, å³é”®å±æ€§, æ·»åŠ å‚æ•°-b -k com:port=\\\\.\\pipe\\com_1,baud=115200,pipeâ€ è¿æ¥è°ƒè¯•å™¨åœ¨Guestå¯åŠ¨å, åœ¨Hostæ‰“å¼€åˆšæ‰è®¾ç½®çš„windbgå¿«æ·æ–¹å¼, å¦‚ä¸‹ä¾¿è¿æ¥æˆåŠŸ æ·»åŠ ç¬¦å·","categories":[],"tags":[]},{"title":"LinuxåŒè™šæ‹Ÿæœºè°ƒè¯•","slug":"linux-debug-setting","date":"2020-03-29T06:22:04.760Z","updated":"2020-03-29T10:19:44.776Z","comments":true,"path":"2020/03/29/linux-debug-setting/","link":"","permalink":"http://474172261.github.io/2020/03/29/linux-debug-setting/","excerpt":"","text":"å‡†å¤‡å†…æ ¸linux kernel source é…ç½®è™šæ‹Ÿæœº æ–°å»ºä¸€ä¸ªè™šæ‹Ÿæœº æ·»åŠ ä¸²å£, å¹¶åšå¦‚ä¸‹é…ç½®æ­¤è™šæ‹Ÿæœºä½œä¸ºè¢«è°ƒè¯•æœº å…‹éš†è™šæ‹Ÿæœº ä¿®æ”¹ä¸²å£è®¾å¤‡çš„é…ç½®,è®¾å®šä¸ºâ€è¯¥ç«¯ä¸ºå®¢æˆ·ç«¯â€, æ­¤ä¸ºè°ƒè¯•æœº åœ¨è¢«è°ƒè¯•æœºç¼–è¯‘å†…æ ¸ è§£å‹å†…æ ¸ 12tar jxvf linux-2.6.26.tar.bz2cd linux-* é…ç½®ç¼–è¯‘å‚æ•° 1make menuconfig å¯èƒ½çš„é”™è¯¯ 12345678error: curses.h: No such file or directoryåŸºäºDebiançš„å‘è¡Œç‰ˆï¼ˆå¦‚Debianã€Ubuntuï¼‰ï¼šsudo apt-get install libncurses5-devåŸºäºRed Hatçš„å‘è¡Œç‰ˆï¼ˆå¦‚RHELã€CentOSï¼‰ï¼šsudo yum install ncurses-develå¦‚æœå‡ºç°æ‰¾ä¸åˆ°è¯¥åŒ…ï¼Œå°è¯•ä»¥ä¸‹è®¾ç½®ï¼švi &#x2F;etc&#x2F;apt&#x2F;source.listæ·»åŠ å…¶å®ƒç³»ç»Ÿçš„æº[æºåˆ—è¡¨åœ°å€](http:&#x2F;&#x2F;mirrors.163.com&#x2F;.help&#x2F;debian.html)æ¯”å¦‚kali,æˆ‘æ·»åŠ çš„debian jessieçš„æº å¦‚æœæç¤ºçª—å£å¤ªå°å‡ºé”™,è¯´æ˜ä½ çš„å‘½ä»¤è¡Œçª—å£å°äº†,æ”¾å¤§ä¸€ç‚¹å†è¯•è¯•.å†…æ ¸è°ƒè¯•éœ€è¦åšå¦‚ä¸‹è®¾ç½®: 1234567Kernel Hacking â€“&gt; compile-time checks and compiler options â€“&gt; [*] Compile the kernel with debug info [*] Compile the kernel with frame pointers [*] kernel debugging [*] KGDB: kernel debuggerâ€“&gt; &lt;*&gt; KGDB: use kgdb over the serial console å®Œæˆä¸Šè¿°é€‰é¡¹å, ç›´æ¥saveåæ¨å‡º. ç¼–è¯‘å†…æ ¸ 1234make -j 4 bzImage # -j ä»£è¡¨ç”¨å¤šå°‘çº¿ç¨‹, ä¸è¦è¶…è¿‡cpuçš„æœ€å¤§çº¿ç¨‹æ•°make modulesmake modules_installmake install ä¿®æ”¹å¯åŠ¨è¡¨æ‰“å¼€ /boot/grub/grub.conf (å¦‚æœä¸å­˜åœ¨, å°±æ”¹grub.cfgæ–‡ä»¶)é’ˆå¯¹ grub.conf 123456789101112131415161718192021 1 # grub.conf generated by anaconda 2 # 3 # Note that you do not have to rerun grub after making changes to this file 4 # NOTICE: You have a &#x2F;boot partition. This means that 5 # all kernel and initrd paths are relative to &#x2F;boot&#x2F;, eg. 6 # root (hd0,0) 7 # kernel &#x2F;vmlinuz-version ro root&#x3D;&#x2F;dev&#x2F;VolGroup00&#x2F;LogVol00 8 # initrd &#x2F;initrd-version.img 9 #boot&#x3D;&#x2F;dev&#x2F;hda10 default&#x3D;011 timeout&#x3D;512 splashimage&#x3D;(hd0,0)&#x2F;grub&#x2F;splash.xpm.gz13 hiddenmenu14 title CentOS (2.6.26)15 root (hd0,0)16 kernel &#x2F;vmlinuz-2.6.26 ro root&#x3D;&#x2F;dev&#x2F;VolGroup00&#x2F;LogVol00 17 initrd &#x2F;initrd-2.6.26.img18 title CentOS-4 i386 (2.6.9-67.ELsmp)19 root (hd0,0)20 kernel &#x2F;vmlinuz-2.6.9-67.ELsmp ro root&#x3D;&#x2F;dev&#x2F;VolGroup00&#x2F;LogVol00 &lt;---------------------21 initrd &#x2F;initrd-2.6.9-67.ELsmp.img åœ¨kernelé‚£ä¸€è¡Œæœ«å°¾æ·»åŠ  â€œkgdboc=ttyS0,115200â€å¦‚ä¸‹å›¾:é’ˆå¯¹ grub.cfg: 123456789101112131415161718192021menuentry &#39;Ubuntu, with Linux 3.8.0-19-generic&#39; --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option &#39;gnulinux-3.8.0-19-generic-advanced-af5e68c6-4f1f-494e-8c35-fc0911ec3564&#39; &#123;recordfail load_video gfxmode $linux_gfx_mode insmod gzio insmod part_msdos insmod ext2 set root&#x3D;&#39;hd0,msdos1&#39; if [ x$feature_platform_search_hint &#x3D; xy ]; then search --no-floppy --fs-uuid --set&#x3D;root --hint-bios&#x3D;hd0,msdos1 --hint-efi&#x3D;hd0,msdos1 --hint-baremetal&#x3D;ahci0,msdos1 af5e68c6-4f1f-494e-8c35-fc0911ec3564 else search --no-floppy --fs-uuid --set&#x3D;root af5e68c6-4f1f-494e-8c35-fc0911ec3564 fi echo &#39;Loading Linux 3.8.0-19-generic ...&#39; linux &#x2F;boot&#x2F;vmlinuz-3.8.0-19-generic root&#x3D;UUID&#x3D;af5e68c6-4f1f-494e-8c35-fc0911ec3564 ro find_preseed&#x3D;&#x2F;preseed.cfg auto noprompt priority&#x3D;critical locale&#x3D;en_US kgdboc&#x3D;ttyS0,115200 kgdbwait quiet ^ | ------------- echo &#39;Loading initial ramdisk ...&#39; initrd &#x2F;boot&#x2F;initrd.img-3.8.0-19-generic&#125; åœ¨æ–°å†…æ ¸å¯¹åº”çš„å†…å®¹ä¸‹æ·»åŠ  â€œkgdboc=ttyS0,115200â€ æµ‹è¯•åŒæœºè°ƒè¯•å¼€å¯ä¸¤ä¸ªè™šæ‹Ÿæœº, åœ¨è¢«è°ƒè¯•æœºä¸Šè¿è¡Œå‘½ä»¤ 1echo hello &gt;/dev/ttyS0 åœ¨è°ƒè¯•æœºä¸Šè¿è¡Œ 1cat /dev/ttyS0 å¦‚æœè°ƒè¯•æœºæ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯, å°±å®æ—¶ç”¨/dev/ttyS1, å¤šè¯•ä¸¤ä¸‹å°±è¡Œå¦‚æœæˆåŠŸäº†, è®°å¾—æ”¹grubçš„é…ç½®. å¼€å§‹è°ƒè¯•å¦‚æœgrubæ²¡æœ‰é…ç½®â€kgdbwaitâ€å‚æ•°, å°±åœ¨è¢«è°ƒè¯•æœºå¼€æœºåè¾“å…¥ 1echo g &gt;/proc/sysrq-tirgger åœ¨è°ƒè¯•æœºé‡Œ 1234567891011$ gdb linux-3.18.34&#x2F;vmlinux.....(gdb) set remotebaud 115200(gdb) target remote &#x2F;dev&#x2F;ttyS0Remote debugging using &#x2F;dev&#x2F;ttyS0kgdb_breakpoint () at kernel&#x2F;kgdb.c:16741674 wmb(); &#x2F;*Sync point after breakpoint *&#x2F;warning: shared library handler failed to enable breakpoint(gdb) å¦‚æœâ€set remotebaud 115200â€çš„æ—¶å€™å‡ºé”™,å°±æ¢æˆâ€set serial baud 115200â€ è°ƒè¯•è‡ªå®šä¹‰é©±åŠ¨æœ‰ç©ºå†è¯´å§.","categories":[],"tags":[]},{"title":"ä½¿ç”¨githubæ­å»ºè‡ªå·±çš„åšå®¢","slug":"build-blog","date":"2020-03-29T03:25:13.016Z","updated":"2020-03-29T10:19:51.818Z","comments":true,"path":"2020/03/29/build-blog/","link":"","permalink":"http://474172261.github.io/2020/03/29/build-blog/","excerpt":"","text":"é¦–å…ˆä½ éœ€è¦åœ¨githubåˆ›å»ºä¸€ä¸ªä»“å‚¨ å®‰è£…git,npmwindowsä¸‹è½½node.jsä¸‹è½½git å®‰è£…hexo1npm install hexo --save (æˆ–è€…npm install hexo-cli -g) åˆå§‹åŒ–12hexo init MYBLOGcd MYBLOG â€œMYBLOGâ€æ˜¯ç›®å½•åç§° æµ‹è¯•123$ hexo generate$ hexo serverINFO Hexo is running at http:&#x2F;&#x2F;localhost:4000 . Press Ctrl+C to stop. æµè§ˆå™¨è®¿é—®http://localhost:4000 æ·»åŠ ä¸»é¢˜è®¿é—®ä¸»é¢˜åº“æ·»åŠ ä¸»é¢˜, æˆ‘æ¯”è¾ƒå–œæ¬¢Apollo ä¸è¿‡ä¸æ›´æ–°äº†, æš‚æ—¶ç”¨ next ä¸»é¢˜. é…ç½®githubæ¨é€è·å–é“¾æ¥ä¿®æ”¹MYBLOG/_config.ymlæ–‡ä»¶ åˆ›å»ºsshkeyåœ¨git-bashé‡Œé¢ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ï¼ˆé€šè¿‡åœ¨Hexoæ–‡ä»¶å¤¹å³é”®é€‰æ‹© â€œGit bash hereâ€æ‰“å¼€ï¼‰ 1ssh-keygen -t rsa -b 4096 -C &quot;é‚®ä»¶åœ°å€@youremail.com&quot; ç„¶åæ ¹æ®æç¤ºenterå°±å¥½(æ³¨æ„æ–‡ä»¶ä¿å­˜çš„ä½ç½®ï¼ï¼) ç™»å½•github, åœ¨Account Settingsâ€”&gt;SSH Public keys â€”&gt; add another public keysä¸­æ·»åŠ ä½ çš„sshkey.pubæ–‡ä»¶çš„å†…å®¹ æµ‹è¯•key 1ssh -T git@github.com æ–°å»ºæ–‡ç« 1hexo n \"ç½‘ç«™æ ‡é¢˜\" æ–‡ç« æ–‡ä»¶åœ¨Hexo\\source_postsé‡Œé¢ï¼Œåç¼€ä¸ºmdè¿™æ˜¯ä¸€ä¸ªmarkdownæ–‡ä»¶ï¼Œå…·ä½“è¯­æ³•æŸ¥çœ‹markdownè¯­æ³• æ–‡ç« å†…å®¹ï¼š title: æ–‡ç« ådate: 2013-05-29 07:56:29 #å‘è¡¨æ—¥æœŸupdated: 2016-04-06 14:58:03 #æ›´æ–°æ—¥æœŸcategories: Life #æ–‡ç« åˆ†ç±»description: ä½ å¯¹æœ¬é¡µçš„æè¿°tags: [tag1,tag2] #æ–‡ç« æ ‡ç­¾. å¤šæ ‡ç­¾æ—¶ä½¿ç”¨è‹±æ–‡é€—å·éš”å¼€photos: #å¦‚æœä½¿ç”¨Fancyboxï¼ˆæ–‡ç« å¤´éƒ¨å±•ç¤ºå›¾ç‰‡ï¼‰. å¦‚æ­¤è®¾ç½® URL1URL2#ä»è¿™é‡Œå¼€å§‹ #å°±æ˜¯æ­£æ–‡ #ä½¿ç”¨markdown æ¨é€æ–‡ç« 1hexo d -g d æ˜¯deployç¼©å†™ ç»‘å®šåŸŸå ç”³è¯·åŸŸå æ·»åŠ é€‰é¡¹ åœ¨githubé¡¹ç›®æ ¹ç›®å½•æ·»åŠ CNAMEæ–‡ä»¶, å†…å®¹æˆ‘ä½ çš„åŸŸå(æ¯”å¦‚ xxx.com) è¿›å…¥github settingæŸ¥çœ‹å¾€ä¸‹æ‹‰, å‡ºç°å¦‚ä¸‹ç»“æœå°±æˆåŠŸäº† åœ¨æ–‡ç« ä¸­æ·»åŠ å›¾ç‰‡ç¬¬ä¸€ç§: æ˜¯åœ¨MYBLOG\\sourceç›®å½•ä¸‹çš„imagesç›®å½•é‡Œæ·»åŠ å›¾ç‰‡, è¿™æ ·åœ¨é¦–é¡µä¹Ÿèƒ½å¼•ç”¨ç¬¬äºŒç§: 1npm install https://github.com/CodeFalling/hexo-asset-image --save å‡è®¾MYBLOG\\source_postsé‡Œé¢çš„ç»“æ„å¦‚ä¸‹:firstblogâ”œâ”€â”€ apppicker.jpgâ”œâ”€â”€ logo.jpgâ””â”€â”€ rules.jpgfirstblog.mdç›®å½•åå¿…é¡»ä¸mdæ–‡ä»¶åä¸€è‡´, ä½¿ç”¨ ![](firstblog/logo.jgp)å°±å¯ä»¥äº†.","categories":[],"tags":[]},{"title":"Linux ä½¿ç”¨æŠ€å·§","slug":"linux-skill","date":"2020-03-28T23:53:23.767Z","updated":"2020-03-29T10:19:33.800Z","comments":true,"path":"2020/03/29/linux-skill/","link":"","permalink":"http://474172261.github.io/2020/03/29/linux-skill/","excerpt":"","text":"ä¸å®šæœŸæ›´æ–° ä¸¤ä¸ªlinuxæ–‡ä»¶äº’ä¼ 1$ scp -r linux-2.6.26 root@(ç›®æ ‡ip)IP:/usr/src/(å‡è®¾æ”¾åˆ°/usr/srcè·¯å¾„) å°†ä¸€ä¸ªæœ¬åœ°ç¨‹åºåšæˆä¸€ä¸ªæœ¬åœ°æœåŠ¡ç¨‹åº1$ socat tcp-l:2333,reuseaddr,fork exec:./pwn1 æœåŠ¡ç«¯å£åœ¨2333ï¼Œä½¿ç”¨nc 127.0.0.1 2333è¿æ¥ å¿«é€Ÿè½¬æ¢å›¾ç‰‡æ ¼å¼ï¼Œä¿®æ”¹åˆ†è¾¨ç‡12$ convert -resize 100x100 src.jpg dst.jpg$ convert -resize 50%x50% src.jpg dst.jpg ä¿®æ”¹æ–‡ä»¶çš„ç”¨æˆ·12345678æŸ¥çœ‹å½’å±ï¼š$ ls -l fileèµ‹ç»™ç”¨æˆ·hv$ chown hv:hv fileå¦‚æœéœ€è¦æŠŠæŸä¸ªæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰éƒ½ä»˜ç»™æŸä¸ªç”¨æˆ·$ chown hv:hv -R dir/* ä¿®æ”¹terminalçš„æ˜¾ç¤ºè·¯å¾„1$ vim ~/.bashrc æ‰¾åˆ° 1234## If this is an xterm set the title to user@host:dircase â€œ$TERMâ€ inxterm|rxvt)PS1&#x3D;â€\\e]0;$debianchroot:+($debianchroot)\\u@\\h:\\w\\a$PS1â€ å°†PS1é‚£è¡Œä¿®æ”¹ä¸º(å…¶å®å°±æ˜¯æŠŠwæ¢æˆW) 1PS1&#x3D;â€[\\u@\\h:\\W]\\\\$â€ æ·»åŠ ç¯å¢ƒå˜é‡1export PATH=$PATH:/home/victorv åˆ›å»ºterminalçš„å¿«æ·é”®å¦‚æœæ˜¯åœ¨kaliï¼Œterminalæ˜¯æ²¡æœ‰å¿«æ·é”®çš„ï¼Œåˆ°è®¾ç½®çš„keyboardé‡Œé¢ï¼Œæ·»åŠ è‡ªå®šä¹‰å¿«æ·é”®ï¼Œé”®å€¼ä¸º 1gnome-terminal æˆ–è€…å®‰è£…nautilus-open-terminal gdbæ”¹å˜æ±‡ç¼–ä»£ç æ˜¾ç¤ºæ–¹å¼1(gdb) set disas intel è®¾ç½®åæ±‡ç¼–ä»£ç ä½¿ç”¨çš„æŒ‡ä»¤é›†ï¼Œå¯é€‰æ‹© intel æŒ‡ä»¤é›†æˆ– AT&amp;TæŒ‡ä»¤é›†. usbé©±åŠ¨ç›¸å…³1234567891011121314æŸ¥æ‰¾usbé©±åŠ¨$ sudo lspciâ€¦02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168B PCI Express Gigabit Ethernet controller (rev 01)$ find /sys | grep drivers.*02:00è·å–usbè®¾å¤‡ä¿¡æ¯lsusb -tcat /proc/bus/usb/deviceslshwå¸è½½usbé©±åŠ¨tree /sys/bus/usb/driversecho -n â€œ1-1:1.0â€ &gt; /sys/bus/usb/drivers/ub/unbind centoså®‰è£…å†…æ ¸header1yum install kernel-devel-$(uname -r) kernel-headers-$(uname -r) æ·»åŠ sudoer å¹¶ä¸”å–æ¶ˆå¯†ç 12superuser ALL=(ALL) NOPASSWD:ALLsuperuser ALL=(ALL:ALL) ALL #ä¸å–æ¶ˆå¯†ç  åˆ›å»ºsshæœåŠ¡12345$ yum -y install openssh-server openssh-clients$ chkconfig sshd on$ service sshd start$ netstat -tulpn | grep :22$ vi /etc/sysconfig/iptables -A RH-Firewall-1-INPUT -m state â€“state NEW -m tcp -p tcp â€“dport 22 -j ACCEPT åˆ›å»ºftp æœåŠ¡123sudo yum install vsftpdsudo service vsftpd restartchkconfig vsftpd on ubuntuä¿®æ”¹å†…æ ¸è°ƒè¯•å¯åŠ¨é¡¹1vi /etc/default/grub åœ¨å±è‚¡åé¢æ·»åŠ  kgdboc=ttyS1,115200 12grep menu /boot/grub/grub.cfggrub-reboot â€˜1&gt;3â€™ ç¬¬ä¸€ä¸ªæ•°å­—1ä»£è¡¨ç¬¬äºŒè¡Œçš„submenuï¼Œç¬¬äºŒä¸ª3ä»£è¡¨submenuçš„ç¬¬å››ä¸ªï¼ˆä»0å¼€å§‹ï¼‰ æŒ‚èµ·ä¸€ä¸ªè¿›ç¨‹ctrl+zfg æ¢å¤ æ‰“åŒ…ã€è§£å‹æ–‡ä»¶è§£åŒ…ä½¿ç”¨x,æ‰“åŒ…ä½¿ç”¨c tar.xzè§£åŒ…:tar zxvf file.tar.xz æˆ–è€…:xz -d file.tar.xz &amp;&amp; tar xvf file.taræ‰“åŒ…:tar zcvf file.tar.xz .tarè§£åŒ…ï¼štar xvf FileName.taræ‰“åŒ…ï¼štar cvf FileName.tar DirNameï¼ˆæ³¨ï¼štaræ˜¯æ‰“åŒ…ï¼Œä¸æ˜¯å‹ç¼©ï¼ï¼‰â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.gzè§£å‹1ï¼šgunzip FileName.gzè§£å‹2ï¼šgzip -d FileName.gzå‹ç¼©ï¼šgzip FileName .tar.gz å’Œ .tgzè§£å‹ï¼štar zxvf FileName.tar.gzå‹ç¼©ï¼štar zcvf FileName.tar.gz DirNameâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.bz2è§£å‹1ï¼šbzip2 -d FileName.bz2è§£å‹2ï¼šbunzip2 FileName.bz2å‹ç¼©ï¼š bzip2 -z FileName .tar.bz2è§£å‹ï¼štar jxvf FileName.tar.bz2å‹ç¼©ï¼štar jcvf FileName.tar.bz2 DirNameâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.bzè§£å‹1ï¼šbzip2 -d FileName.bzè§£å‹2ï¼šbunzip2 FileName.bzå‹ç¼©ï¼šæœªçŸ¥ .tar.bzè§£å‹ï¼štar jxvf FileName.tar.bzå‹ç¼©ï¼šæœªçŸ¥â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.Zè§£å‹ï¼šuncompress FileName.Zå‹ç¼©ï¼šcompress FileName.tar.Z è§£å‹ï¼štar Zxvf FileName.tar.Zå‹ç¼©ï¼štar Zcvf FileName.tar.Z DirNameâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.zipè§£å‹ï¼šunzip FileName.zipå‹ç¼©ï¼šzip FileName.zip DirNameâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.rarè§£å‹ï¼šrar x FileName.rarå‹ç¼©ï¼šrar a FileName.rar DirNameâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.lhaè§£å‹ï¼šlha -e FileName.lhaå‹ç¼©ï¼šlha -a FileName.lha FileNameâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.rpmè§£åŒ…ï¼šrpm2cpio FileName.rpm | cpio -divâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.debè§£åŒ…ï¼šar p FileName.deb data.tar.gz | tar zxf -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”.tar .tgz .tar.gz .tar.Z .tar.bz .tar.bz2 .zip .cpio .rpm .deb .slp .arj .rar .ace .lha .lzh .lzx .lzs .arc .sda .sfx .lnx .zoo .cab .kar .cpt .pit .sit .seaè§£å‹ï¼šsEx x FileName.*å‹ç¼©ï¼šsEx a FileName.* FileName å•ç‹¬é‡æ–°ç¼–è¯‘ä¸€ä¸ªå†…æ ¸æ¨¡å—å½“æˆ‘ä»¬æƒ³ä¿®æ”¹å†…æ ¸æŸä¸ªæ¨¡å—,åˆä¸æƒ³é‡æ–°make allçš„æ—¶å€™,å¯ä»¥è¿™æ ·æ“ä½œ. 1make drivers&#x2F;net&#x2F;ethernet&#x2F;intel&#x2F;e1000&#x2F;e1000.ko æˆ–è€… 1make drivers&#x2F;net&#x2F;ethernet&#x2F;intel&#x2F;e1000&#x2F;","categories":[],"tags":[]}],"categories":[],"tags":[]}